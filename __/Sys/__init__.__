class Sys
  let MACHINE = uname.machine;
  let OS = uname.sysname;
 
  fun checkperm (mode, perm)
  end

  fun setperm (file, perm)
  end

  fun modetoint (mode)
  end

  fun getgrname (gid)
  end

  fun getpwname (uid)
  end

  fun getpwuidgid (user)
  end

  def which (exec)
    variable ar, path = Path.vget ("OS");

    if (NULL == path)
      return NULL;

    path = strchop (path, path_get_delimiter, 0);
    path = array_map (String_Type, &path_concat, path, exec);
    path = path [wherenot (array_map (Integer_Type, Dir.isdirectory, NULL, path))];

    ar = wherenot (array_map (Integer_Type, &access, path, X_OK));

    if (length (ar))
      path[ar][0];
    else
      NULL;
   end
end
